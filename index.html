
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>LivingWell Centre – Client Intake & Consent Form</title>
  <style>
    :root{
      --accent:#568273;
      --accent-dark:#46695e;
      --bg:#f4f4f4;
      --card:#fff;
      --muted:#888;
      --error:#b00020;
      --light-grey:#ccc;
    }
    html,body{height:100%}
    body {
      font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
      color: #222;
      background-color: var(--bg);
      margin: 0;
      padding: 0 12px;
      -webkit-font-smoothing:antialiased;
    }
    .container {
      max-width: 860px;
      margin: 30px auto;
      background-color: var(--card);
      padding: 28px;
      border-radius: 10px;
      box-shadow: 0 6px 20px rgba(0,0,0,0.06);
    }
    .header {text-align:center;margin-bottom:18px}
    .header img{
      width:100%;
      height:auto;
      max-height:180px;
      object-fit:cover;
      margin-bottom:8px;
      display:block;
    }
    h1{color:var(--accent);margin:0 0 6px;font-size:22px}
    p.intro{font-size:15px;line-height:1.6;margin:8px 0 18px}
    fieldset{
      border:1px solid #e6e6e6;border-radius:8px;margin-bottom:20px;padding:16px;background:#fbfbfb
    }
    legend{font-weight:700;color:var(--accent);padding:0 6px}
    .form-row{display:flex;gap:12px;flex-wrap:wrap}
    label{display:block;font-weight:600;margin:8px 0 6px}
    input[type="text"],input[type="email"],input[type="tel"],input[type="date"],textarea,select{
      width:100%;padding:9px;border:1px solid #cfcfcf;border-radius:6px;font:inherit;box-sizing:border-box
    }
    textarea{min-height:88px;resize:vertical}
    .small{width:140px}
    .checkbox-group,label.inline{font-weight:400;display:inline-flex;align-items:center;gap:6px;margin-right:12px}
    .submit-btn{
      display:inline-flex;align-items:center;gap:10px;background:var(--accent);color:#fff;padding:12px 20px;border-radius:8px;border:0;cursor:pointer;font-size:16px
    }
    .submit-btn[disabled]{opacity:.6;cursor:not-allowed;background:var(--light-grey)}
    footer{text-align:center;font-size:12px;color:var(--muted);margin-top:22px;padding-top:12px;border-top:1px solid #eee}
    .visually-hidden{position:absolute!important;height:1px;width:1px;overflow:hidden;clip:rect(1px,1px,1px,1px);white-space:nowrap}
    .note{font-size:13px;color:#444;margin:6px 0}
    #confirmation{display:none;color:green;text-align:center;margin-bottom:12px}
    .error{color:var(--error);font-size:13px}
    @media(min-width:700px){.two{flex:1 1 48%}.three{flex:1 1 30%}}
    @media(max-width:600px){
      body {padding:0 10px;}
      .submit-btn {width:100%; justify-content:center;}
      .checkbox-group label.inline,
      [role="radiogroup"] label.inline {width:100%; margin-bottom:8px;}
    }
    .checkbox-group, [role="radiogroup"] {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
    }
    .checkbox-group label.inline,
    [role="radiogroup"] label.inline {
      flex: 1 1 100%;
      min-width: 120px;
    }
    .bold-label strong {font-weight:700;}
  </style>
</head>
<body>
  <main class="container" role="main">
    <div class="header">
      <img src="https://i.imgur.com/xY4N3U3.png" alt="LivingWell header image">
      <h1>Client Intake & Consent Form</h1>
      <p class="note">LivingWell Centre – Chaussée d'Etterbeek 64, 1040 Bruxelles – contact@livingwell.be</p>
    </div>

    <p class="intro">
      LivingWell is a non-profit holistic wellness centre dedicated to providing safe, respectful, and inclusive care.
      The information you share helps us tailor sessions to your needs and ensure your well-being.
      Please complete this form before your first appointment.
    </p>

    <p id="confirmation" role="status" aria-live="polite">Thank you! Your form has been successfully submitted.</p>

    <form id="clientForm" action="" method="POST" novalidate>

      <!-- 1. Personal Information -->
      <fieldset>
        <legend>1. Personal Information</legend>
        <div class="form-row">
          <div class="two">
            <label for="first_name">First name <span class="error">*</span></label>
            <input id="first_name" name="first_name" type="text" required autocomplete="given-name" placeholder="First">
          </div>
          <div class="two">
            <label for="last_name">Last name <span class="error">*</span></label>
            <input id="last_name" name="last_name" type="text" required autocomplete="family-name" placeholder="Last">
          </div>
          <div class="small">
            <label for="dob">Date of birth <span class="error">*</span></label>
            <input id="dob" name="dob" type="date" required max="">
          </div>
        </div>

        <label for="address">Address</label>
        <input id="address" name="address" type="text">

        <div class="form-row">
          <div class="three">
            <label for="postal_code">Postal code</label>
            <input id="postal_code" name="postal_code" type="text" pattern="[A-Za-z0-9\s\-]{2,10}">
          </div>
          <div class="three">
            <label for="city">City</label>
            <input id="city" name="city" type="text">
          </div>
          <div class="three">
            <label for="phone">Phone number</label>
            <input id="phone" name="phone" type="tel" placeholder="12 345 678 910">
          </div>
        </div>

        <label for="email">Email address <span class="error">*</span></label>
        <input id="email" name="email" type="email" required placeholder="name@example.com">

        <label>Preferred contact method (please select at least one) <span class="error">*</span></label>
        <div class="checkbox-group">
          <label class="inline"><input type="checkbox" name="contact_method" value="Email"> Email</label>
          <label class="inline"><input type="checkbox" name="contact_method" value="Phone"> Phone</label>
          <label class="inline"><input type="checkbox" name="contact_method" value="SMS"> SMS</label>
          <label class="inline"><input type="checkbox" name="contact_method" value="WhatsApp"> WhatsApp</label>
        </div>
      </fieldset>

      <!-- 2. Service Selection -->
      <fieldset>
        <legend>2. Service Selection</legend>
        <div role="radiogroup">
          <label class="inline"><input type="radio" name="service" value="Localised Chair Massage"> Localised Chair Massage</label>
          <label class="inline"><input type="radio" name="service" value="Localised Massage with Oils"> Localised Massage with Oils</label>
          <label class="inline"><input type="radio" name="service" value="Aromatherapy Massage"> Aromatherapy Massage</label>
          <label class="inline"><input type="radio" name="service" value="Maderotherapy Massage"> Maderotherapy Massage</label>
          <label class="inline"><input type="radio" name="service" value="Free 10-minute Quick Relief Massage"> Free 10-minute Quick Relief Massage</label>
        </div>
      </fieldset>

      <!-- 3. Medical Conditions -->
      <fieldset>
        <legend>3. Medical Conditions</legend>
        <p class="note">Please indicate any relevant conditions before participating:</p>
        <div role="group" class="checkbox-group" style="gap:6px;">
          <label class="inline"><input type="checkbox" name="medical_conditions" value="Varicose veins, circulation issues, or recent inflammation (important for maderotherapy)"> <strong>Varicose veins, circulation issues, or recent inflammation (important for maderotherapy)</strong></label>
          <label class="inline"><input type="checkbox" name="medical_conditions" value="Sensitivity to strong pressure or cellulite/fibrosis treatment"> <strong>Sensitivity to strong pressure or cellulite/fibrosis treatment</strong></label>
          <label class="inline"><input type="checkbox" name="medical_conditions" value="Allergies or sensitivities to essential oils or fragrances (aromatherapy)"> <strong>Allergies or sensitivities to essential oils or fragrances (aromatherapy)</strong></label>
          <label class="inline"><input type="checkbox" name="medical_conditions" value="Respiratory conditions such as asthma triggered by scents"> <strong>Respiratory conditions such as asthma triggered by scents</strong></label>
          <label class="inline"><input type="checkbox" name="medical_conditions" value="Neck, spine, or mobility limitations (chair massage)"> <strong>Neck, spine, or mobility limitations (chair massage)</strong></label>
          <label class="inline"><input type="checkbox" name="medical_conditions" value="Skin irritation, open wounds, or bruising in treatment area"> <strong>Skin irritation, open wounds, or bruising in treatment area</strong></label>
          <label class="inline"><input type="checkbox" id="pregnancy_cb" name="medical_conditions" value="Pregnancy (weeks)"> <strong>Pregnancy (weeks):</strong> <input type="text" id="pregnancy_text" name="pregnancy_weeks" placeholder="Weeks" disabled></label>
          <label class="inline"><input type="checkbox" id="other_cb" name="medical_conditions" value="Other medical conditions"> <strong>Other medical conditions:</strong> <input type="text" id="other_text" name="other_conditions" placeholder="Specify" disabled></label>
        </div>
      </fieldset>

      <!-- 4. Consent -->
      <fieldset>
        <legend>4. Consent & Acknowledgement</legend>
        <p class="note">
          <strong>Nature of Service:</strong> I understand services are non-medical and complementary.<br>
          <strong>Privacy & GDPR:</strong> DATA IS NOT SHARED WITH THIRD PARTIES. Data stored securely for 7 years. Requests for access, correction, or deletion can be sent to contact@livingwell.be.<br>
        </p>
        <label class="inline">
          <input type="checkbox" id="gdpr_consent" name="gdpr_consent" required>
          I consent to the processing of my personal data in accordance with the privacy policy. <span class="error">*</span>
        </label>
      </fieldset>

      <!-- 5. House Rules -->
      <fieldset>
        <legend>5. House Rules</legend>
        <p class="note">
          1. <strong>Purpose of Services:</strong> All services are non-medical.<br>
          2. <strong>Registration & Identification:</strong> Clients must register upon arrival.<br>
          5. <strong>Smoking/Vaping:</strong> Strictly prohibited within the premises.<br>
          6. <strong>Alcohol/Substances:</strong> Consumption of alcohol or substances that may impair judgement is not permitted before or during treatments. We reserve the right to deny access to the centre and to services if the client is under the influence.<br>
          7. <strong>Health Conditions:</strong> Notify the therapist of any and all health related conditions that are relevant before receiving your massage.<br>
          11. <strong>Cancellations:</strong> Cancel at least 24 hours in advance. Late cancellations or no shows may incur a fee.<br>
          12. <strong>Payment:</strong> Payment is due in advance or latest at the time of service as a general rule. Accepted methods include cash and electronic payment.<br>
          13. <strong>Safety:</strong> Notify the therapist immediately of any discomfort.<br>
          14. <strong>Governing Law:</strong> This agreement is governed by Belgian law. The courts of the centre have exclusive jurisdiction.
        </p>
      </fieldset>

      <!-- 6. Marketing Consent -->
      <fieldset>
        <legend>6. Marketing Consent</legend>
        <p style="font-weight:600;">I agree to receive occasional updates about LivingWell's activities and wellness services. <span class="error">*</span></p>
        <div role="radiogroup">
          <label class="inline"><input type="radio" name="marketing" value="Yes"> Yes</label>
          <label class="inline"><input type="radio" name="marketing" value="No"> No</label>
        </div>
        <p style="font-size:13px; margin:4px 0;">*No spam, just relevant information.</p>
      </fieldset>

      <p class="note">
        By submitting this form, you agree to LivingWell's terms and conditions.
      </p>

      <div style="display:flex;gap:12px;align-items:center">
        <button type="submit" id="submitBtn" class="submit-btn">Submit</button>
        <div id="formError" class="error" role="alert" style="display:none"></div>
      </div>
    </form>

    <footer>
      LivingWell Centre – Chaussée d'Etterbeek 64, 1040 Bruxelles – contact@livingwell.be<br>
      Records retained for 7 years in accordance with GDPR.
    </footer>
  </main>

  <script>
    (function(){
      const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbxOysGTMAtsPjUTfziqtRggxAmUslqtwQHYMHfDHV5sYs-HecHMXCQO8UYlUa3jdniB/exec';
      const form = document.getElementById('clientForm');
      const submitBtn = document.getElementById('submitBtn');
      const confirmation = document.getElementById('confirmation');
      const formError = document.getElementById('formError');

      const today = new Date().toISOString().split('T')[0];
      document.querySelectorAll('input[type="date"]').forEach(inp => inp.max = today);

      // Enable/disable pregnancy & other fields
      const pregCB = document.getElementById('pregnancy_cb');
      const pregText = document.getElementById('pregnancy_text');
      const otherCB = document.getElementById('other_cb');
      const otherText = document.getElementById('other_text');

      pregCB.addEventListener('change',()=>{pregText.disabled=!pregCB.checked; if(!pregCB.checked) pregText.value=''});
      otherCB.addEventListener('change',()=>{otherText.disabled=!otherCB.checked; if(!otherCB.checked) otherText.value=''});

      function showError(msg){
        formError.textContent = msg;
        formError.style.display = msg ? 'block' : 'none';
      }

      function customValidate(){
        // GDPR consent
        if(!document.getElementById('gdpr_consent').checked){
          showError('You must consent to the processing of personal data.');
          return false;
        }
        // Contact method
        const methods = [...document.querySelectorAll('input[name="contact_method"]')];
        if(!methods.some(c => c.checked)){
          showError('Please select at least one preferred contact method.');
          return false;
        }
        // Service
        const service = [...document.querySelectorAll('input[name="service"]')];
        if(!service.some(r => r.checked)){
          showError('Please select a service.');
          return false;
        }
        // Marketing
        const marketing = [...document.querySelectorAll('input[name="marketing"]')];
        if(!marketing.some(r => r.checked)){
          showError('Please select your marketing preference.');
          return false;
        }
        showError('');
        return true;
      }

      function fallbackSubmit(){
        const iframe=document.createElement('iframe');
        iframe.style.display='none';
        iframe.name='submission_iframe';
        document.body.appendChild(iframe);
        form.target='submission_iframe';
        form.submit();
        confirmation.style.display='block';
        confirmation.textContent='Form submitted (fallback mode).';
        form.reset();
        submitBtn.disabled=true;
        submitBtn.textContent='Submitted';
        setTimeout(()=>{confirmation.style.display='none'; submitBtn.disabled=false; submitBtn.textContent='Submit'},8000);
        form.removeAttribute('target');
      }

      form.addEventListener('submit', function(e){
        e.preventDefault();
        if(!form.checkValidity()){form.reportValidity();return;}
        if(!customValidate()) return;

        submitBtn.disabled=true;
        submitBtn.textContent='Submitted';
        submitBtn.style.background='#ccc';

        const formData = new FormData(form);

        fetch(WEB_APP_URL,{method:'POST',body:formData})
        .then(res=>{if(!res.ok)throw new Error('Server error');const ct=res.headers.get('content-type')||'';return ct.includes('json')?res.json():{status:'success'};})
        .then(json=>{
          if(json.status==='success'){
            confirmation.style.display='block';
            confirmation.textContent='Thank you! Your form has been successfully submitted.';
            form.reset();
            pregText.disabled=true;
            otherText.disabled=true;
            setTimeout(()=>{
              confirmation.style.display='none';
              submitBtn.disabled=false;
              submitBtn.textContent='Submit';
              submitBtn.style.background='var(--accent)';
            },8000);
          } else throw new Error(json.message||'Unknown error');
        }).catch(err=>{
          console.error(err);
          fallbackSubmit();
        });
      });
    })();
  </script>
</body>
</html>
